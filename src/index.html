
<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="bower_components/video.js/dist/video-js/video-js.css">
		<link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css">
		<link rel="stylesheet" href="css/style.css">
		<title></title>
		<script src="bower_components/angular/angular.js"></script>
		<script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
		<script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
		<script src="bower_components/video.js/dist/video-js/video.js"></script>
</head>
<body ng-app="ngVideoJs" ng-proper-noun>


	<br>
	
	<div class="container" ng-controller="videoCtrl">
		<div class="row col-sm-12 page-container">
			<!--<div class="col-sm-2">
					<div class="list-group">
					  <a ng-class="{active:($index +1) == currentTitle}"  href="#" class="list-group-item" ng-repeat="title in titles" ng-click="moveTo( title );$event.preventDefault()">{{title.data}}</a>
					</div>

			</div>-->
			<div class="col-sm-7 panel-container">
				<div class="panel panel-default">
				  <div class="panel-body">
					<div class="video-container">
						<div ng-video-js style="width:100%;height:350px;" 
                             show-text-track-display="showTextTrackDisplay"
                             autoplay="autoplay"
                             sources="sources"
                             tracks="tracks"
                             caption="caption"
                             current-line="currentLine"
                             time-rate="timeRate"
                             on-full-screen="onFullScreen()"
                             on-cancel-full-screen="onCancelFullScreen()"
                             on-track-loaded="onTrackLoaded()"
                             on-track-Fail="onTrackFail()"
                             note-src="noteSrc"></div>

						<h3 class="text-center srt-text">
						</h3>
					</div>
				  </div>
				  <div class="panel-footer">

					<!--<h3 class="current-caption text-center">
						{{currentLine.data}}
					</h3>-->
					<h3 class="current-caption text-center" ng-bind-html="currentLine.data">
					</h3>

					<div class="text-right">
					{{timeRate}} %
					</div>
    		      </div>
				</div>
				<!--<div class="well" style="overflow:auto;height:150px;">
					<p ng-class="{'text-danger':line == currentLine}" ng-repeat="line in srtLines">{{line.data}}</p>
				</div>-->
			</div>
			<div class="col-sm-5">
                <div ng-caption="caption.data" current="currentLine" class="well caption" style="overflow:auto;height:410px;" on-line-click="onLineClick()">
                </div>
			</div>
		</div>
	</div>

	<!--script src="js/utils/bootstrap-slider.js"></script>-->
	<script src="js/app.js"></script>
	<script src="js/config/whitelist.js"></script>
	<script src="js/utils/stringUtils.js"></script>
	<script src="js/utils/properNoun.js"></script>
	<script src="js/utils/srt.js"></script>
	<script src="js/components/ngCaption.js"></script>
	<script src="js/components/ngProperNoun.js"></script>
	<script src="js/components/VideoCaption.js"></script>
	<script src="js/components/ChapterProgress.js"></script>
	<script src="js/components/ControlBarCaptionBtn.js"></script>
	<script src="js/components/ngVideoJs.js"></script>

	<script>
        app.controller('videoCtrl', function videoCtrl( $scope, $timeout ){
			$scope.sources = [
				{src:"http://vjs.zencdn.net/v/oceans.mp4",type:"video/mp4"}
			];
			$scope.tracks = [
				{kind:"captions",src:"video/2-1-3_atom.srt",srclang:"zh",label:"中文"}
			];
			/*$scope.caption = {};*/
            $scope.noteSrc = {
                index:"video/noteIndex.txt",
                note:"video/notes.txt"
            };
			$scope.showTextTrackDisplay = false;
            $scope.onTrackLoaded = function(){
              console.log('onTrackLoaded');
            };
            $scope.onTrackFail = function(){
              console.log('onTrackFail');
            };
			$scope.onFullScreen = function(){
				$scope.showTextTrackDisplay = true;
			};
			$scope.onCancelFullScreen = function(){
				$scope.showTextTrackDisplay = false;
			};
		});
	</script>

</body>
</html>

